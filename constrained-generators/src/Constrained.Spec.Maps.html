<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ImportQualifiedPost #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Constrained.Spec.Maps</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier">MapSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Spec.Maps.html#dom_"><span class="hs-identifier">dom_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Spec.Maps.html#rng_"><span class="hs-identifier">rng_</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">nub</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/prettyprinter-1.7.1-546164a61e33fff52b43324c1636e343b3360b907f873b5adf59f460acb23f60/share/doc/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Constrained.Base.html"><span class="hs-identifier">Constrained.Base</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Constrained.Core.html"><span class="hs-identifier">Constrained.Core</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Constrained.GenT.html"><span class="hs-identifier">Constrained.GenT</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Constrained.Instances.html"><span class="hs-identifier">Constrained.Instances</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Constrained.List.html"><span class="hs-identifier">Constrained.List</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Constrained.Univ.html"><span class="hs-identifier">Constrained.Univ</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- HasSpec</span><span>
</span><span id="line-33"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">data</span><span> </span><span id="MapSpec"><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span></span><span> </span><span id="local-6989586621679190365"><span class="annot"><a href="#local-6989586621679190365"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span id="local-6989586621679190364"><span class="annot"><a href="#local-6989586621679190364"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679190363"><span class="annot"><a href="#local-6989586621679190363"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MapSpec"><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="mapSpecMustKeys"><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v. MapSpec fn k v -&gt; Set k
</span><a href="Constrained.Spec.Maps.html#mapSpecMustKeys"><span class="hs-identifier hs-var hs-var">mapSpecMustKeys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190364"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="mapSpecMustValues"><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v. MapSpec fn k v -&gt; [v]
</span><a href="Constrained.Spec.Maps.html#mapSpecMustValues"><span class="hs-identifier hs-var hs-var">mapSpecMustValues</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679190363"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="mapSpecSize"><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v. MapSpec fn k v -&gt; Spec fn Int
</span><a href="Constrained.Spec.Maps.html#mapSpecSize"><span class="hs-identifier hs-var hs-var">mapSpecSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Constrained.Base.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190365"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="mapSpecElem"><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v. MapSpec fn k v -&gt; Spec fn (k, v)
</span><a href="Constrained.Spec.Maps.html#mapSpecElem"><span class="hs-identifier hs-var hs-var">mapSpecElem</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Constrained.Base.html#Spec"><span class="hs-identifier hs-type">Spec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190365"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679190364"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679190363"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="mapSpecFold"><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v. MapSpec fn k v -&gt; FoldSpec fn v
</span><a href="Constrained.Spec.Maps.html#mapSpecFold"><span class="hs-identifier hs-var hs-var">mapSpecFold</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Constrained.Base.html#FoldSpec"><span class="hs-identifier hs-type">FoldSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190365"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190363"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span id="local-6989586621679189927"><span id="local-6989586621679189929"><span id="local-6989586621679189942"><span id="local-6989586621679190332"><span id="local-6989586621679190333"><span id="local-6989586621679190334"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190334"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679190333"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679190332"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190334"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190333"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190334"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190332"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190334"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679190332"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190334"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190333"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190332"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679190324"><span id="local-6989586621679190325"><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190325"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Constrained.Base.html#Forallable"><span class="hs-identifier hs-type">Forallable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190325"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190324"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679190325"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679190324"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>  </span><span id="local-6989586621679189913"><span class="annot"><span class="annottext">forAllSpec :: forall (fn :: [*] -&gt; * -&gt; *).
(HasSpec fn (Map k v), HasSpec fn (k, v), BaseUniverse fn) =&gt;
Spec fn (k, v) -&gt; Spec fn (Map k v)
</span><a href="Constrained.Base.html#forAllSpec"><span class="hs-identifier hs-var hs-var hs-var hs-var">forAllSpec</span></a></span></span><span> </span><span id="local-6989586621679189911"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189911"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Set k
-&gt; [v]
-&gt; Spec fn Int
-&gt; Spec fn (k, v)
-&gt; FoldSpec fn v
-&gt; MapSpec fn k v
</span><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. Spec fn a
</span><a href="Constrained.Base.html#TrueSpec"><span class="hs-identifier hs-var">TrueSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189911"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. FoldSpec fn a
</span><a href="Constrained.Base.html#NoFold"><span class="hs-identifier hs-var">NoFold</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span id="local-6989586621679189907"><span class="annot"><span class="annottext">forAllToList :: Map k v -&gt; [(k, v)]
</span><a href="Constrained.Base.html#forAllToList"><span class="hs-identifier hs-var hs-var hs-var hs-var">forAllToList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; [(k, a)]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-55"></span><span>  </span><span id="local-6989586621679189884"><span id="local-6989586621679190277"><span id="local-6989586621679190278"><span id="local-6989586621679190279"><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Univ.html#Prod"><span class="hs-identifier hs-type">Prod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="TypeSpec"><span class="annot"><a href="Constrained.Base.html#TypeSpec"><span class="hs-identifier hs-var">TypeSpec</span></a></span></span><span> </span><span id="local-6989586621679190277"><span id="local-6989586621679190278"><span id="local-6989586621679190279"><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Prerequisites"><span class="annot"><a href="Constrained.Base.html#Prerequisites"><span class="hs-identifier hs-var">Prerequisites</span></a></span></span><span> </span><span id="local-6989586621679190277"><span id="local-6989586621679190278"><span id="local-6989586621679190279"><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190279"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190277"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>  </span><span id="local-6989586621679189871"><span class="annot"><span class="annottext">emptySpec :: TypeSpec fn (Map k v)
</span><a href="Constrained.Base.html#emptySpec"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptySpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Set k
-&gt; [v]
-&gt; Spec fn Int
-&gt; Spec fn (k, v)
-&gt; FoldSpec fn v
-&gt; MapSpec fn k v
</span><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. FoldSpec fn a
</span><a href="Constrained.Base.html#NoFold"><span class="hs-identifier hs-var">NoFold</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621679189854"><span class="annot"><span class="annottext">combineSpec :: TypeSpec fn (Map k v) -&gt; TypeSpec fn (Map k v) -&gt; Spec fn (Map k v)
</span><a href="Constrained.Base.html#combineSpec"><span class="hs-identifier hs-var hs-var hs-var hs-var">combineSpec</span></a></span></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span id="local-6989586621679189852"><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189852"><span class="hs-identifier hs-var">mustKeys</span></a></span></span><span> </span><span id="local-6989586621679189851"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189851"><span class="hs-identifier hs-var">mustVals</span></a></span></span><span> </span><span id="local-6989586621679189850"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189850"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679189849"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189849"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679189848"><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189848"><span class="hs-identifier hs-var">foldSpec</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span id="local-6989586621679189847"><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189847"><span class="hs-identifier hs-var">mustKeys'</span></a></span></span><span> </span><span id="local-6989586621679189846"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189846"><span class="hs-identifier hs-var">mustVals'</span></a></span></span><span> </span><span id="local-6989586621679189845"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189845"><span class="hs-identifier hs-var">size'</span></a></span></span><span> </span><span id="local-6989586621679189844"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189844"><span class="hs-identifier hs-var">kvs'</span></a></span></span><span> </span><span id="local-6989586621679189843"><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189843"><span class="hs-identifier hs-var">foldSpec'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ([String] -&gt; a) -&gt; GE a -&gt; a
</span><a href="Constrained.GenT.html#fromGE"><span class="hs-identifier hs-var">fromGE</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. [String] -&gt; Spec fn a
</span><a href="Constrained.Base.html#ErrorSpec"><span class="hs-identifier hs-var">ErrorSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-66"></span><span>      </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Set k
-&gt; [v]
-&gt; Spec fn Int
-&gt; Spec fn (k, v)
-&gt; FoldSpec fn v
-&gt; MapSpec fn k v
</span><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span><span>
</span><span id="line-68"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189852"><span class="hs-identifier hs-var">mustKeys</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189847"><span class="hs-identifier hs-var">mustKeys'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">nub</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189851"><span class="hs-identifier hs-var">mustVals</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189846"><span class="hs-identifier hs-var">mustVals'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189850"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189845"><span class="hs-identifier hs-var">size'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189849"><span class="hs-identifier hs-var">kvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189844"><span class="hs-identifier hs-var">kvs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (fn :: [*] -&gt; * -&gt; *) a.
MonadGenError m =&gt;
FoldSpec fn a -&gt; FoldSpec fn a -&gt; m (FoldSpec fn a)
</span><a href="Constrained.Base.html#combineFoldSpec"><span class="hs-identifier hs-var">combineFoldSpec</span></a></span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189848"><span class="hs-identifier hs-var">foldSpec</span></a></span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189843"><span class="hs-identifier hs-var">foldSpec'</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621679189827"><span class="annot"><span class="annottext">conformsTo :: HasCallStack =&gt; Map k v -&gt; TypeSpec fn (Map k v) -&gt; Bool
</span><a href="Constrained.Base.html#conformsTo"><span class="hs-identifier hs-var hs-var hs-var hs-var">conformsTo</span></a></span></span><span> </span><span id="local-6989586621679189825"><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189825"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span id="local-6989586621679189824"><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189824"><span class="hs-identifier hs-var">mustKeys</span></a></span></span><span> </span><span id="local-6989586621679189823"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189823"><span class="hs-identifier hs-var">mustVals</span></a></span></span><span> </span><span id="local-6989586621679189822"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189822"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679189821"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189821"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679189820"><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189820"><span class="hs-identifier hs-var">foldSpec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">and</span></a></span><span>
</span><span id="line-76"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189824"><span class="hs-identifier hs-var">mustKeys</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-operator hs-var">`Set.isSubsetOf`</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; Set k
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189825"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-77"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.elems</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189825"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189823"><span class="hs-identifier hs-var">mustVals</span></a></span><span>
</span><span id="line-78"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; Int
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.size</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189825"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
a -&gt; Spec fn a -&gt; Bool
</span><a href="Constrained.Base.html#conformsToSpec"><span class="hs-operator hs-var">`conformsToSpec`</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189822"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-79"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
a -&gt; Spec fn a -&gt; Bool
</span><a href="Constrained.Base.html#conformsToSpec"><span class="hs-operator hs-var">`conformsToSpec`</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189821"><span class="hs-identifier hs-var">kvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; [(k, a)]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189825"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.elems</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189825"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. [a] -&gt; FoldSpec fn a -&gt; Bool
</span><a href="Constrained.Base.html#conformsToFoldSpec"><span class="hs-operator hs-var">`conformsToFoldSpec`</span></a></span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189820"><span class="hs-identifier hs-var">foldSpec</span></a></span><span>
</span><span id="line-81"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621679189590"><span class="annot"><span class="annottext">genFromTypeSpec :: forall (m :: * -&gt; *).
(HasCallStack, MonadGenError m) =&gt;
TypeSpec fn (Map k v) -&gt; GenT m (Map k v)
</span><a href="Constrained.Base.html#genFromTypeSpec"><span class="hs-identifier hs-var hs-var hs-var hs-var">genFromTypeSpec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span id="local-6989586621679189588"><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189588"><span class="hs-identifier hs-var">mustKeys</span></a></span></span><span> </span><span id="local-6989586621679189587"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189587"><span class="hs-identifier hs-var">mustVals</span></a></span></span><span> </span><span id="local-6989586621679189586"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189586"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679189585"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189585"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679189584"><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189584"><span class="hs-identifier hs-var">foldSpec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621679189583"><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679189583"><span class="hs-identifier hs-var">mustMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadGenError m, HasCallStack) =&gt;
[String] -&gt; m a -&gt; m a
</span><a href="Constrained.GenT.html#explain"><span class="hs-identifier hs-var">explain</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Make the mustMap&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Set a -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189588"><span class="hs-identifier hs-var">mustKeys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189579"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679189579"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-85"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679189578"><span class="annot"><span class="annottext">vSpec :: Spec fn v
</span><a href="#local-6989586621679189578"><span class="hs-identifier hs-var hs-var">vSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *) p.
(IsPred p fn, HasSpec fn a) =&gt;
(Term fn a -&gt; p) -&gt; Spec fn a
</span><a href="Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189576"><span class="annot"><span class="annottext">Term fn v
</span><a href="#local-6989586621679189576"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(HasSpec fn (SimpleRep a),
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a), HasSimpleRep a) =&gt;
fn '[SimpleRep a] a
</span><a href="Constrained.Base.html#fromGenericFn"><span class="hs-identifier hs-var">fromGenericFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[a, b] (Prod a b)
</span><a href="Constrained.Univ.html#pairFn"><span class="hs-identifier hs-var">pairFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679189579"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn v
</span><a href="#local-6989586621679189576"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189585"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-86"></span><span>      </span><span id="local-6989586621679189570"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679189570"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadGenError m, HasCallStack) =&gt;
[String] -&gt; m a -&gt; m a
</span><a href="Constrained.GenT.html#explain"><span class="hs-identifier hs-var">explain</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Doc Any
</span><span class="hs-string">&quot;vSpec =&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/prettyprinter-1.7.1-546164a61e33fff52b43324c1636e343b3360b907f873b5adf59f460acb23f60/share/doc/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/prettyprinter-1.7.1-546164a61e33fff52b43324c1636e343b3360b907f873b5adf59f460acb23f60/share/doc/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn v
</span><a href="#local-6989586621679189578"><span class="hs-identifier hs-var">vSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a (m :: * -&gt; *).
(HasCallStack, HasSpec fn a, MonadGenError m) =&gt;
Spec fn a -&gt; GenT m a
</span><a href="Constrained.Base.html#genFromSpec"><span class="hs-identifier hs-var">genFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn v
</span><a href="#local-6989586621679189578"><span class="hs-identifier hs-var">vSpec</span></a></span><span>
</span><span id="line-87"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679189579"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679189570"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679189565"><span class="annot"><span class="annottext">haveVals :: [v]
</span><a href="#local-6989586621679189565"><span class="hs-identifier hs-var hs-var">haveVals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679189583"><span class="hs-identifier hs-var">mustMap</span></a></span><span>
</span><span id="line-89"></span><span>        </span><span id="local-6989586621679189564"><span class="annot"><span class="annottext">mustVals' :: [v]
</span><a href="#local-6989586621679189564"><span class="hs-identifier hs-var hs-var">mustVals'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189565"><span class="hs-identifier hs-var">haveVals</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189587"><span class="hs-identifier hs-var">mustVals</span></a></span><span>
</span><span id="line-90"></span><span>        </span><span id="local-6989586621679189562"><span class="annot"><span class="annottext">size' :: Spec fn Int
</span><a href="#local-6989586621679189562"><span class="hs-identifier hs-var hs-var">size'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *) p.
(IsPred p fn, HasSpec fn a) =&gt;
(Term fn a -&gt; p) -&gt; Spec fn a
</span><a href="Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189561"><span class="annot"><span class="annottext">Term fn Int
</span><a href="#local-6989586621679189561"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-91"></span><span>          </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term fn Int
</span><a href="#local-6989586621679189561"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679189583"><span class="hs-identifier hs-var">mustMap</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189586"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(Eq a, BaseUniverse fn) =&gt;
Spec fn a -&gt; Spec fn Int
</span><a href="Constrained.Base.html#specSizeBound"><span class="hs-identifier hs-var">specSizeBound</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
(HasSpec fn a, HasSpec fn b) =&gt;
fn '[a] b -&gt; Spec fn a -&gt; Spec fn b
</span><a href="Constrained.Base.html#mapSpec"><span class="hs-identifier hs-var">mapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[Prod a b] a
</span><a href="Constrained.Univ.html#fstFn"><span class="hs-identifier hs-var">fstFn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
(HasSpec fn a, HasSpec fn b) =&gt;
fn '[a] b -&gt; Spec fn a -&gt; Spec fn b
</span><a href="Constrained.Base.html#mapSpec"><span class="hs-identifier hs-var">mapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(HasSpec fn (SimpleRep a),
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a), HasSimpleRep a) =&gt;
fn '[a] (SimpleRep a)
</span><a href="Constrained.Base.html#toGenericFn"><span class="hs-identifier hs-var">toGenericFn</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189585"><span class="hs-identifier hs-var">kvs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>        </span><span id="local-6989586621679189554"><span class="annot"><span class="annottext">foldSpec' :: FoldSpec fn v
</span><a href="#local-6989586621679189554"><span class="hs-identifier hs-var hs-var">foldSpec'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189584"><span class="hs-identifier hs-var">foldSpec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-93"></span><span>          </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="Constrained.Base.html#NoFold"><span class="hs-identifier hs-var">NoFold</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. FoldSpec fn a
</span><a href="Constrained.Base.html#NoFold"><span class="hs-identifier hs-var">NoFold</span></a></span><span>
</span><span id="line-94"></span><span>          </span><span class="annot"><a href="Constrained.Base.html#FoldSpec"><span class="hs-identifier hs-type">FoldSpec</span></a></span><span> </span><span id="local-6989586621679189526"><span class="annot"><span class="annottext">fn '[v] b
</span><a href="#local-6989586621679189526"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679189525"><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189525"><span class="hs-identifier hs-var">sumSpec</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall as (fn :: [*] -&gt; * -&gt; *) a.
(HasSpec fn a, HasSpec fn as, Foldy fn as, Member (ListFn fn) fn,
 BaseUniverse fn) =&gt;
fn '[a] as -&gt; Spec fn as -&gt; FoldSpec fn a
</span><a href="Constrained.Base.html#FoldSpec"><span class="hs-identifier hs-var">FoldSpec</span></a></span><span> </span><span class="annot"><span class="annottext">fn '[v] b
</span><a href="#local-6989586621679189526"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: [*] -&gt; * -&gt; *) (fn :: [*] -&gt; * -&gt; *) (as :: [*]) a b.
(Functions f fn, TypeList as, Typeable as, HasSpec fn a,
 All (HasSpec fn) as) =&gt;
f as b -&gt; ListCtx Value as (HOLE a) -&gt; Spec fn b -&gt; Spec fn a
</span><a href="Constrained.Base.html#propagateSpecFun"><span class="hs-identifier hs-var">propagateSpecFun</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. Foldy fn a =&gt; fn '[a, a] a
</span><a href="Constrained.Base.html#theAddFn"><span class="hs-identifier hs-var">theAddFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HOLE a a
</span><a href="Constrained.Base.html#HOLE"><span class="hs-identifier hs-var">HOLE</span></a></span><span> </span><span class="annot"><span class="annottext">forall (c :: * -&gt; *) as (f :: * -&gt; *) (as :: [*]).
c as -&gt; List f as -&gt; ListCtx f (as : as) c
</span><a href="Constrained.List.html#%3A%3F"><span class="hs-operator hs-var">:?</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; Value a
</span><a href="Constrained.Core.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679189519"><span class="hs-identifier hs-var">mustSum</span></a></span><span> </span><span class="annot"><span class="annottext">forall {k} (f :: k -&gt; *) (as :: k) (as :: [k]).
f as -&gt; List f as -&gt; List f (as : as)
</span><a href="Constrained.List.html#%3A%3E"><span class="hs-operator hs-var">:&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall {k} (f :: k -&gt; *). List f '[]
</span><a href="Constrained.List.html#Nil"><span class="hs-identifier hs-var">Nil</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189525"><span class="hs-identifier hs-var">sumSpec</span></a></span><span>
</span><span id="line-95"></span><span>            </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>              </span><span id="local-6989586621679189519"><span class="annot"><span class="annottext">mustSum :: b
</span><a href="#local-6989586621679189519"><span class="hs-identifier hs-var hs-var">mustSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. Foldy fn a =&gt; [a] -&gt; a
</span><a href="Constrained.Base.html#adds"><span class="hs-identifier hs-var">adds</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) (as :: [*]) b.
FunctionLike fn =&gt;
fn as b -&gt; FunTy as b
</span><a href="Constrained.Univ.html#sem"><span class="hs-identifier hs-var">sem</span></a></span><span> </span><span class="annot"><span class="annottext">fn '[v] b
</span><a href="#local-6989586621679189526"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189565"><span class="hs-identifier hs-var">haveVals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679189514"><span class="annot"><span class="annottext">valsSpec :: ListSpec fn v
</span><a href="#local-6989586621679189514"><span class="hs-identifier hs-var hs-var">valsSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>          </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
[a] -&gt; Spec fn Int -&gt; Spec fn a -&gt; FoldSpec fn a -&gt; ListSpec fn a
</span><a href="Constrained.Base.html#ListSpec"><span class="hs-identifier hs-var">ListSpec</span></a></span><span>
</span><span id="line-99"></span><span>            </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189564"><span class="hs-identifier hs-var">mustVals'</span></a></span><span>
</span><span id="line-100"></span><span>            </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189562"><span class="hs-identifier hs-var">size'</span></a></span><span>
</span><span id="line-101"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *) p.
(IsPred p fn, HasSpec fn a) =&gt;
(Term fn a -&gt; p) -&gt; Spec fn a
</span><a href="Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189512"><span class="annot"><span class="annottext">Term fn v
</span><a href="#local-6989586621679189512"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-102"></span><span>                </span><span class="annot"><span class="annottext">forall a p (fn :: [*] -&gt; * -&gt; *).
(HasSpec fn a, IsPred p fn) =&gt;
(Term fn a -&gt; p) -&gt; Pred fn
</span><a href="Constrained.Base.html#unsafeExists"><span class="hs-identifier hs-var">unsafeExists</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189510"><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189510"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-103"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189510"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189585"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-104"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) p.
(BaseUniverse fn, IsPred p fn) =&gt;
p -&gt; Pred fn
</span><a href="Constrained.Base.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(Eq a, Member (EqFn fn) fn) =&gt;
fn '[a, a] Bool
</span><a href="Constrained.Univ.html#equalFn"><span class="hs-identifier hs-var">equalFn</span></a></span><span> </span><span class="annot"><span class="annottext">Term fn v
</span><a href="#local-6989586621679189512"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[Prod a b] b
</span><a href="Constrained.Univ.html#sndFn"><span class="hs-identifier hs-var">sndFn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(HasSpec fn (SimpleRep a),
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a), HasSimpleRep a) =&gt;
fn '[a] (SimpleRep a)
</span><a href="Constrained.Base.html#toGenericFn"><span class="hs-identifier hs-var">toGenericFn</span></a></span><span> </span><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189510"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-106"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>            </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189554"><span class="hs-identifier hs-var">foldSpec'</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span>    </span><span id="local-6989586621679189506"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189506"><span class="hs-identifier hs-var">restVals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-110"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadGenError m, HasCallStack) =&gt;
[String] -&gt; m a -&gt; m a
</span><a href="Constrained.GenT.html#explain"><span class="hs-identifier hs-var">explain</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Make the restVals&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-111"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadGenError m, HasCallStack) =&gt;
[String] -&gt; m a -&gt; m a
</span><a href="Constrained.GenT.html#explain"><span class="hs-identifier hs-var">explain</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Doc Any
</span><span class="hs-string">&quot;size' = &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/prettyprinter-1.7.1-546164a61e33fff52b43324c1636e343b3360b907f873b5adf59f460acb23f60/share/doc/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189562"><span class="hs-identifier hs-var">size'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-112"></span><span>          </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a (m :: * -&gt; *).
(HasSpec fn a, HasCallStack, MonadGenError m) =&gt;
TypeSpec fn a -&gt; GenT m a
</span><a href="Constrained.Base.html#genFromTypeSpec"><span class="hs-identifier hs-var">genFromTypeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-113"></span><span>            </span><span class="annot"><span class="annottext">ListSpec fn v
</span><a href="#local-6989586621679189514"><span class="hs-identifier hs-var">valsSpec</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679189505"><span class="annot"><span class="annottext">go :: Map k v -&gt; [v] -&gt; GenT m (Map k v)
</span><a href="#local-6989586621679189505"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679189504"><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189504"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189504"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-115"></span><span>        </span><span class="annot"><a href="#local-6989586621679189505"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679189503"><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189503"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679189502"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679189502"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679189501"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189501"><span class="hs-identifier hs-var">restVals'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-116"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679189500"><span class="annot"><span class="annottext">keySpec :: Spec fn k
</span><a href="#local-6989586621679189500"><span class="hs-identifier hs-var hs-var">keySpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *) p.
(IsPred p fn, HasSpec fn a) =&gt;
(Term fn a -&gt; p) -&gt; Spec fn a
</span><a href="Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189499"><span class="annot"><span class="annottext">Term fn k
</span><a href="#local-6989586621679189499"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-117"></span><span>                </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) p.
(BaseUniverse fn, IsPred p fn) =&gt;
p -&gt; Pred fn
</span><a href="Constrained.Base.html#toPred"><span class="hs-identifier hs-var">toPred</span></a></span><span>
</span><span id="line-118"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) p.
(BaseUniverse fn, IsPred p fn) =&gt;
p -&gt; Pred fn
</span><a href="Constrained.Base.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *).
Member (BoolFn fn) fn =&gt;
fn '[Bool] Bool
</span><a href="Constrained.Univ.html#notFn"><span class="hs-identifier hs-var">notFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(Member (SetFn fn) fn, Ord a) =&gt;
fn '[a, Set a] Bool
</span><a href="Constrained.Univ.html#memberFn"><span class="hs-identifier hs-var">memberFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn k
</span><a href="#local-6989586621679189499"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; Set k
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189503"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(HasSpec fn (SimpleRep a),
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a), HasSimpleRep a) =&gt;
fn '[SimpleRep a] a
</span><a href="Constrained.Base.html#fromGenericFn"><span class="hs-identifier hs-var">fromGenericFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[a, b] (Prod a b)
</span><a href="Constrained.Univ.html#pairFn"><span class="hs-identifier hs-var">pairFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn k
</span><a href="#local-6989586621679189499"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679189502"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189585"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-120"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-121"></span><span>          </span><span id="local-6989586621679189495"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679189495"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-122"></span><span>            </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadGenError m, HasCallStack) =&gt;
[String] -&gt; m a -&gt; m a
</span><a href="Constrained.GenT.html#explain"><span class="hs-identifier hs-var">explain</span></a></span><span>
</span><span id="line-123"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Make a key&quot;</span></span><span>
</span><span id="line-124"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/prettyprinter-1.7.1-546164a61e33fff52b43324c1636e343b3360b907f873b5adf59f460acb23f60/share/doc/html/src"><span class="hs-identifier hs-var">indent</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Doc Any
</span><span class="hs-string">&quot;keySpec =&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/prettyprinter-1.7.1-546164a61e33fff52b43324c1636e343b3360b907f873b5adf59f460acb23f60/share/doc/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/prettyprinter-1.7.1-546164a61e33fff52b43324c1636e343b3360b907f873b5adf59f460acb23f60/share/doc/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn k
</span><a href="#local-6989586621679189500"><span class="hs-identifier hs-var">keySpec</span></a></span><span>
</span><span id="line-125"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-126"></span><span>              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a (m :: * -&gt; *).
(HasCallStack, HasSpec fn a, MonadGenError m) =&gt;
Spec fn a -&gt; GenT m a
</span><a href="Constrained.Base.html#genFromSpec"><span class="hs-identifier hs-var">genFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn k
</span><a href="#local-6989586621679189500"><span class="hs-identifier hs-var">keySpec</span></a></span><span>
</span><span id="line-127"></span><span>          </span><span class="annot"><span class="annottext">Map k v -&gt; [v] -&gt; GenT m (Map k v)
</span><a href="#local-6989586621679189505"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679189495"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679189502"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679189503"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189501"><span class="hs-identifier hs-var">restVals'</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="annottext">Map k v -&gt; [v] -&gt; GenT m (Map k v)
</span><a href="#local-6989586621679189505"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)]
</span><a href="#local-6989586621679189583"><span class="hs-identifier hs-var">mustMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189506"><span class="hs-identifier hs-var">restVals</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>  </span><span id="local-6989586621679189397"><span class="annot"><span class="annottext">toPreds :: Term fn (Map k v) -&gt; TypeSpec fn (Map k v) -&gt; Pred fn
</span><a href="Constrained.Base.html#toPreds"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPreds</span></a></span></span><span> </span><span id="local-6989586621679189395"><span class="annot"><span class="annottext">Term fn (Map k v)
</span><a href="#local-6989586621679189395"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span id="local-6989586621679189394"><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189394"><span class="hs-identifier hs-var">mustKeys</span></a></span></span><span> </span><span id="local-6989586621679189393"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189393"><span class="hs-identifier hs-var">mustVals</span></a></span></span><span> </span><span id="local-6989586621679189392"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189392"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679189391"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189391"><span class="hs-identifier hs-var">kvs</span></a></span></span><span> </span><span id="local-6989586621679189390"><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189390"><span class="hs-identifier hs-var">foldSpec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) p.
(BaseUniverse fn, IsPred p fn) =&gt;
p -&gt; Pred fn
</span><a href="Constrained.Base.html#toPred"><span class="hs-identifier hs-var">toPred</span></a></span><span>
</span><span id="line-132"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) p.
(BaseUniverse fn, IsPred p fn) =&gt;
p -&gt; Pred fn
</span><a href="Constrained.Base.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(Member (SetFn fn) fn, Ord a) =&gt;
fn '[Set a, Set a] Bool
</span><a href="Constrained.Univ.html#subsetFn"><span class="hs-identifier hs-var">subsetFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
(Member (MapFn fn) fn, Ord k) =&gt;
fn '[Map k v] (Set k)
</span><a href="Constrained.Univ.html#domFn"><span class="hs-identifier hs-var">domFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn (Map k v)
</span><a href="#local-6989586621679189395"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189394"><span class="hs-identifier hs-var">mustKeys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall t a (fn :: [*] -&gt; * -&gt; *) p.
(Forallable t a, HasSpec fn t, HasSpec fn a, IsPred p fn) =&gt;
Term fn t -&gt; (Term fn a -&gt; p) -&gt; Pred fn
</span><a href="Constrained.Base.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189393"><span class="hs-identifier hs-var">mustVals</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189386"><span class="annot"><span class="annottext">Term fn v
</span><a href="#local-6989586621679189386"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-134"></span><span>          </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(Member (SetFn fn) fn, Eq a) =&gt;
fn '[a, [a]] Bool
</span><a href="Constrained.Univ.html#elemFn"><span class="hs-identifier hs-var">elemFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn v
</span><a href="#local-6989586621679189386"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Member (MapFn fn) fn =&gt;
fn '[Map k v] [v]
</span><a href="Constrained.Univ.html#rngFn"><span class="hs-identifier hs-var">rngFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn (Map k v)
</span><a href="#local-6989586621679189395"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- TODO: make nice</span><span>
</span><span id="line-136"></span><span>        </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) (fnU :: [*] -&gt; * -&gt; *) (as :: [*]) b.
Member fn fnU =&gt;
fn as b -&gt; fnU as b
</span><a href="Constrained.Univ.html#injectFn"><span class="hs-identifier hs-var">injectFn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) as. ListFn fn '[[as]] Int
</span><a href="Constrained.Base.html#ListSize"><span class="hs-identifier hs-var">ListSize</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Member (MapFn fn) fn =&gt;
fn '[Map k v] [v]
</span><a href="Constrained.Univ.html#rngFn"><span class="hs-identifier hs-var">rngFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn (Map k v)
</span><a href="#local-6989586621679189395"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189392"><span class="hs-identifier hs-var">size</span></a></span><span>
</span><span id="line-137"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall t a (fn :: [*] -&gt; * -&gt; *) p.
(Forallable t a, HasSpec fn t, HasSpec fn a, IsPred p fn) =&gt;
Term fn t -&gt; (Term fn a -&gt; p) -&gt; Pred fn
</span><a href="Constrained.Base.html#forAll"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="annot"><span class="annottext">Term fn (Map k v)
</span><a href="#local-6989586621679189395"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189381"><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189381"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189381"><span class="hs-identifier hs-var">kv</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189391"><span class="hs-identifier hs-var">kvs</span></a></span><span>
</span><span id="line-138"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
BaseUniverse fn =&gt;
Term fn [a] -&gt; FoldSpec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#toPredsFoldSpec"><span class="hs-identifier hs-var">toPredsFoldSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Member (MapFn fn) fn =&gt;
fn '[Map k v] [v]
</span><a href="Constrained.Univ.html#rngFn"><span class="hs-identifier hs-var">rngFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190278"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn (Map k v)
</span><a href="#local-6989586621679189395"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189390"><span class="hs-identifier hs-var">foldSpec</span></a></span><span>
</span><span id="line-139"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- Functions</span><span>
</span><span id="line-143"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679189367"><span id="local-6989586621679190073"><span class="annot"><a href="Constrained.Base.html#BaseUniverse"><span class="hs-identifier hs-type">BaseUniverse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Constrained.Base.html#Functions"><span class="hs-identifier hs-type">Functions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Univ.html#MapFn"><span class="hs-identifier hs-type">MapFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679189360"><span class="annot"><span class="annottext">propagateSpecFun :: forall (as :: [*]) a b.
(TypeList as, Typeable as, HasSpec fn a, All (HasSpec fn) as) =&gt;
MapFn fn as b
-&gt; ListCtx Value as (HOLE a) -&gt; Spec fn b -&gt; Spec fn a
</span><a href="#local-6989586621679189360"><span class="hs-identifier hs-var hs-var hs-var hs-var">propagateSpecFun</span></a></span></span><span> </span><span class="annot"><span class="annottext">MapFn fn as b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ListCtx Value as (HOLE a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Spec fn b
</span><a href="Constrained.Base.html#TrueSpec"><span class="hs-identifier hs-var">TrueSpec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. Spec fn a
</span><a href="Constrained.Base.html#TrueSpec"><span class="hs-identifier hs-var">TrueSpec</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><a href="Constrained.Base.html#propagateSpecFun"><span class="hs-identifier hs-var">propagateSpecFun</span></a></span><span> </span><span class="annot"><span class="annottext">MapFn fn as b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ListCtx Value as (HOLE a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Base.html#ErrorSpec"><span class="hs-identifier hs-type">ErrorSpec</span></a></span><span> </span><span id="local-6989586621679189359"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679189359"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. [String] -&gt; Spec fn a
</span><a href="Constrained.Base.html#ErrorSpec"><span class="hs-identifier hs-var">ErrorSpec</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679189359"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><a href="Constrained.Base.html#propagateSpecFun"><span class="hs-identifier hs-var">propagateSpecFun</span></a></span><span> </span><span id="local-6989586621679189358"><span class="annot"><span class="annottext">MapFn fn as b
</span><a href="#local-6989586621679189358"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679189357"><span class="annot"><span class="annottext">ListCtx Value as (HOLE a)
</span><a href="#local-6989586621679189357"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621679189356"><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189356"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MapFn fn as b
</span><a href="#local-6989586621679189358"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="annottext">MapFn fn as b
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Constrained.Base.html#SuspendedSpec"><span class="hs-identifier hs-type">SuspendedSpec</span></a></span><span> </span><span id="local-6989586621679189353"><span class="annot"><span class="annottext">Var b
</span><a href="#local-6989586621679189353"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679189352"><span class="annot"><span class="annottext">Pred fn
</span><a href="#local-6989586621679189352"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189356"><span class="hs-identifier hs-var">spec</span></a></span><span>
</span><span id="line-151"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.List.html#ListCtx"><span class="hs-identifier hs-type">ListCtx</span></a></span><span> </span><span id="local-6989586621679189347"><span class="annot"><span class="annottext">List Value as
</span><a href="#local-6989586621679189347"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span class="annot"><span class="annottext">HOLE a a
</span><a href="Constrained.Base.html#HOLE"><span class="hs-identifier hs-var">HOLE</span></a></span><span> </span><span id="local-6989586621679189330"><span class="annot"><span class="annottext">List Value as'
</span><a href="#local-6989586621679189330"><span class="hs-identifier hs-var">suf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ListCtx Value as (HOLE a)
</span><a href="#local-6989586621679189357"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-152"></span><span>          </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *) p.
(IsPred p fn, HasSpec fn a) =&gt;
(Term fn a -&gt; p) -&gt; Spec fn a
</span><a href="Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189329"><span class="annot"><span class="annottext">Term fn a
</span><a href="#local-6989586621679189329"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-153"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679189328"><span class="annot"><span class="annottext">args :: List (Term fn) (Append as (a : as'))
</span><a href="#local-6989586621679189328"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a} (f :: a -&gt; *) (as :: [a]) (bs :: [a]).
List f as -&gt; List f bs -&gt; List f (Append as bs)
</span><a href="Constrained.List.html#appendList"><span class="hs-identifier hs-var">appendList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (f :: k -&gt; *) (g :: k -&gt; *) (as :: [k]).
(forall (a :: k). f a -&gt; g a) -&gt; List f as -&gt; List g as
</span><a href="Constrained.List.html#mapList"><span class="hs-identifier hs-var">mapList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Core.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span id="local-6989586621679189323"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679189323"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679189323"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">List Value as
</span><a href="#local-6989586621679189347"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term fn a
</span><a href="#local-6989586621679189329"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">forall {k} (f :: k -&gt; *) (as :: k) (as :: [k]).
f as -&gt; List f as -&gt; List f (as : as)
</span><a href="Constrained.List.html#%3A%3E"><span class="hs-operator hs-var">:&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall {k} (f :: k -&gt; *) (g :: k -&gt; *) (as :: [k]).
(forall (a :: k). f a -&gt; g a) -&gt; List f as -&gt; List g as
</span><a href="Constrained.List.html#mapList"><span class="hs-identifier hs-var">mapList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Core.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span id="local-6989586621679189320"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679189320"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). Show a =&gt; a -&gt; Term fn a
</span><a href="Constrained.Base.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679189320"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">List Value as'
</span><a href="#local-6989586621679189330"><span class="hs-identifier hs-var">suf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) as.
Term fn as -&gt; Binder fn as -&gt; Pred fn
</span><a href="Constrained.Base.html#Let"><span class="hs-identifier hs-var">Let</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (as :: [*]) (fn :: [*] -&gt; * -&gt; *) b.
(Typeable as, TypeList as, All (HasSpec fn) as, HasSpec fn b,
 BaseUniverse fn) =&gt;
fn as b -&gt; List (Term fn) as -&gt; Term fn b
</span><a href="Constrained.Base.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) (fnU :: [*] -&gt; * -&gt; *) (as :: [*]) b.
Member fn fnU =&gt;
fn as b -&gt; fnU as b
</span><a href="Constrained.Univ.html#injectFn"><span class="hs-identifier hs-var">injectFn</span></a></span><span> </span><span class="annot"><span class="annottext">MapFn fn as b
</span><a href="#local-6989586621679189358"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">List (Term fn) (Append as (a : as'))
</span><a href="#local-6989586621679189328"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var b
</span><a href="#local-6989586621679189353"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Var a -&gt; Pred fn -&gt; Binder fn a
</span><a href="Constrained.Base.html#%3A-%3E"><span class="hs-operator hs-var">:-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Pred fn
</span><a href="#local-6989586621679189352"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><span class="annottext">MapFn fn as b
</span><a href="Constrained.Univ.html#Dom"><span class="hs-identifier hs-var">Dom</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-156"></span><span>      </span><span class="hs-comment">-- No TypeAbstractions in ghc-8.10</span><span>
</span><span id="line-157"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MapFn fn as b
</span><a href="#local-6989586621679189358"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-158"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679189308"><span id="local-6989586621679189309"><span class="annot"><span class="annottext">MapFn fn '[Map k v] (Set k)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Constrained.Univ.html#MapFn"><span class="hs-identifier hs-type">MapFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189309"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189308"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189309"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Constrained.List.html#NilCtx"><span class="hs-identifier hs-type">NilCtx</span></a></span><span> </span><span class="annot"><span class="annottext">HOLE a (Map k v)
</span><a href="Constrained.Base.html#HOLE"><span class="hs-identifier hs-var">HOLE</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ListCtx Value as (HOLE a)
</span><a href="#local-6989586621679189357"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-160"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Evidence (Prerequisites fn (Map k v))
</span><a href="Constrained.Core.html#Evidence"><span class="hs-identifier hs-var">Evidence</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Evidence (Prerequisites fn a)
</span><a href="Constrained.Base.html#prerequisites"><span class="hs-identifier hs-var">prerequisites</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189309"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189308"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-161"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189356"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-162"></span><span>                </span><span class="annot"><a href="Constrained.Base.html#MemberSpec"><span class="hs-identifier hs-type">MemberSpec</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679189290"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679189290"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-163"></span><span>                  </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Set k
-&gt; [v]
-&gt; Spec fn Int
-&gt; Spec fn (k, v)
-&gt; FoldSpec fn v
-&gt; MapSpec fn k v
</span><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679189290"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). a -&gt; Spec fn a
</span><a href="Constrained.Base.html#equalSpec"><span class="hs-identifier hs-var">equalSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Set a -&gt; Int
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Set.size</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679189290"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. Spec fn a
</span><a href="Constrained.Base.html#TrueSpec"><span class="hs-identifier hs-var">TrueSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. FoldSpec fn a
</span><a href="Constrained.Base.html#NoFold"><span class="hs-identifier hs-var">NoFold</span></a></span><span>
</span><span id="line-164"></span><span>                </span><span class="annot"><a href="Constrained.Base.html#TypeSpec"><span class="hs-identifier hs-type">TypeSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Base.html#SetSpec"><span class="hs-identifier hs-type">SetSpec</span></a></span><span> </span><span id="local-6989586621679189244"><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189244"><span class="hs-identifier hs-var">must</span></a></span></span><span> </span><span id="local-6989586621679189243"><span class="annot"><span class="annottext">Spec fn k
</span><a href="#local-6989586621679189243"><span class="hs-identifier hs-var">elemspec</span></a></span></span><span> </span><span id="local-6989586621679189242"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189242"><span class="hs-identifier hs-var">size</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-165"></span><span>                  </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Set k
-&gt; [v]
-&gt; Spec fn Int
-&gt; Spec fn (k, v)
-&gt; FoldSpec fn v
-&gt; MapSpec fn k v
</span><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189244"><span class="hs-identifier hs-var">must</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189242"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *) p.
(IsPred p fn, HasSpec fn a) =&gt;
(Term fn a -&gt; p) -&gt; Spec fn a
</span><a href="Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189241"><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189241"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[Prod a b] a
</span><a href="Constrained.Univ.html#fstFn"><span class="hs-identifier hs-var">fstFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(HasSpec fn (SimpleRep a),
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a), HasSimpleRep a) =&gt;
fn '[a] (SimpleRep a)
</span><a href="Constrained.Base.html#toGenericFn"><span class="hs-identifier hs-var">toGenericFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189241"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Spec fn k
</span><a href="#local-6989586621679189243"><span class="hs-identifier hs-var">elemspec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. FoldSpec fn a
</span><a href="Constrained.Base.html#NoFold"><span class="hs-identifier hs-var">NoFold</span></a></span><span>
</span><span id="line-166"></span><span>                </span><span class="annot"><span class="annottext">Spec fn b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. [String] -&gt; Spec fn a
</span><a href="Constrained.Base.html#ErrorSpec"><span class="hs-identifier hs-var">ErrorSpec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Dom on bad map spec&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189356"><span class="hs-identifier hs-var">spec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="annottext">MapFn fn as b
</span><a href="Constrained.Univ.html#Rng"><span class="hs-identifier hs-var">Rng</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-comment">-- No TypeAbstractions in ghc-8.10</span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MapFn fn as b
</span><a href="#local-6989586621679189358"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-170"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679189233"><span id="local-6989586621679189234"><span class="annot"><span class="annottext">MapFn fn '[Map k v] [v]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Constrained.Univ.html#MapFn"><span class="hs-identifier hs-type">MapFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189234"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189233"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679189233"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Constrained.List.html#NilCtx"><span class="hs-identifier hs-type">NilCtx</span></a></span><span> </span><span class="annot"><span class="annottext">HOLE a (Map k v)
</span><a href="Constrained.Base.html#HOLE"><span class="hs-identifier hs-var">HOLE</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ListCtx Value as (HOLE a)
</span><a href="#local-6989586621679189357"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-172"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Evidence (Prerequisites fn (Map k v))
</span><a href="Constrained.Core.html#Evidence"><span class="hs-identifier hs-var">Evidence</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Evidence (Prerequisites fn a)
</span><a href="Constrained.Base.html#prerequisites"><span class="hs-identifier hs-var">prerequisites</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189234"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189233"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189356"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-174"></span><span>                </span><span class="annot"><a href="Constrained.Base.html#MemberSpec"><span class="hs-identifier hs-type">MemberSpec</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679189217"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679189217"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-175"></span><span>                  </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Set k
-&gt; [v]
-&gt; Spec fn Int
-&gt; Spec fn (k, v)
-&gt; FoldSpec fn v
-&gt; MapSpec fn k v
</span><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Set a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679189217"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *). a -&gt; Spec fn a
</span><a href="Constrained.Base.html#equalSpec"><span class="hs-identifier hs-var">equalSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679189217"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. Spec fn a
</span><a href="Constrained.Base.html#TrueSpec"><span class="hs-identifier hs-var">TrueSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. FoldSpec fn a
</span><a href="Constrained.Base.html#NoFold"><span class="hs-identifier hs-var">NoFold</span></a></span><span>
</span><span id="line-176"></span><span>                </span><span class="annot"><a href="Constrained.Base.html#TypeSpec"><span class="hs-identifier hs-type">TypeSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Base.html#ListSpec"><span class="hs-identifier hs-type">ListSpec</span></a></span><span> </span><span id="local-6989586621679189175"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189175"><span class="hs-identifier hs-var">must</span></a></span></span><span> </span><span id="local-6989586621679189174"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189174"><span class="hs-identifier hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679189173"><span class="annot"><span class="annottext">Spec fn v
</span><a href="#local-6989586621679189173"><span class="hs-identifier hs-var">elemspec</span></a></span></span><span> </span><span id="local-6989586621679189172"><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189172"><span class="hs-identifier hs-var">foldspec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-177"></span><span>                  </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Set k
-&gt; [v]
-&gt; Spec fn Int
-&gt; Spec fn (k, v)
-&gt; FoldSpec fn v
-&gt; MapSpec fn k v
</span><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-var">MapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Set a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189175"><span class="hs-identifier hs-var">must</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189174"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *) p.
(IsPred p fn, HasSpec fn a) =&gt;
(Term fn a -&gt; p) -&gt; Spec fn a
</span><a href="Constrained.Base.html#constrained"><span class="hs-identifier hs-var">constrained</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679189171"><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189171"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Term fn a -&gt; Spec fn a -&gt; Pred fn
</span><a href="Constrained.Base.html#satisfies"><span class="hs-identifier hs-var">satisfies</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[Prod a b] b
</span><a href="Constrained.Univ.html#sndFn"><span class="hs-identifier hs-var">sndFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
(HasSpec fn (SimpleRep a),
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a), HasSimpleRep a) =&gt;
fn '[a] (SimpleRep a)
</span><a href="Constrained.Base.html#toGenericFn"><span class="hs-identifier hs-var">toGenericFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term fn (k, v)
</span><a href="#local-6989586621679189171"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Spec fn v
</span><a href="#local-6989586621679189173"><span class="hs-identifier hs-var">elemspec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189172"><span class="hs-identifier hs-var">foldspec</span></a></span><span>
</span><span id="line-178"></span><span>                </span><span class="annot"><span class="annottext">Spec fn b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a. [String] -&gt; Spec fn a
</span><a href="Constrained.Base.html#ErrorSpec"><span class="hs-identifier hs-var">ErrorSpec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Rng on bad map spec&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn b
</span><a href="#local-6989586621679189356"><span class="hs-identifier hs-var">spec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-comment">-- NOTE: this function over-approximates and returns a liberal spec.</span><span>
</span><span id="line-181"></span><span>  </span><span id="local-6989586621679189168"><span class="annot"><span class="annottext">mapTypeSpec :: forall a b.
(HasSpec fn a, HasSpec fn b) =&gt;
MapFn fn '[a] b -&gt; TypeSpec fn a -&gt; Spec fn b
</span><a href="Constrained.Base.html#mapTypeSpec"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTypeSpec</span></a></span></span><span> </span><span id="local-6989586621679189166"><span class="annot"><span class="annottext">MapFn fn '[a] b
</span><a href="#local-6989586621679189166"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679189165"><span class="annot"><span class="annottext">TypeSpec fn a
</span><a href="#local-6989586621679189165"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MapFn fn '[a] b
</span><a href="#local-6989586621679189166"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-comment">-- TODO: consider checking against singleton member-specs in the other component</span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-comment">-- interacting with cant</span><span>
</span><span id="line-184"></span><span>    </span><span class="annot"><span class="annottext">MapFn fn '[a] b
</span><a href="Constrained.Univ.html#Dom"><span class="hs-identifier hs-var">Dom</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-185"></span><span>      </span><span class="hs-comment">-- No TypeAbstractions in ghc-8.10</span><span>
</span><span id="line-186"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MapFn fn '[a] b
</span><a href="#local-6989586621679189166"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-187"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679189156"><span id="local-6989586621679189157"><span class="annot"><span class="annottext">MapFn fn '[Map k v] (Set k)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Constrained.Univ.html#MapFn"><span class="hs-identifier hs-type">MapFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189157"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189156"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189157"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span id="local-6989586621679189155"><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189155"><span class="hs-identifier hs-var">mustSet</span></a></span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679189154"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189154"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621679189153"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189153"><span class="hs-identifier hs-var">kvSpec</span></a></span></span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TypeSpec fn a
</span><a href="#local-6989586621679189165"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-189"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Evidence (Prerequisites fn (Map k v))
</span><a href="Constrained.Core.html#Evidence"><span class="hs-identifier hs-var">Evidence</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Evidence (Prerequisites fn a)
</span><a href="Constrained.Base.html#prerequisites"><span class="hs-identifier hs-var">prerequisites</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189157"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189156"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-190"></span><span>              </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
Set a -&gt; Spec fn a -&gt; Spec fn Int -&gt; SetSpec fn a
</span><a href="Constrained.Base.html#SetSpec"><span class="hs-identifier hs-var">SetSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Set k
</span><a href="#local-6989586621679189155"><span class="hs-identifier hs-var">mustSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
(HasSpec fn a, HasSpec fn b) =&gt;
fn '[a] b -&gt; Spec fn a -&gt; Spec fn b
</span><a href="Constrained.Base.html#mapSpec"><span class="hs-identifier hs-var">mapSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[Prod a b] a
</span><a href="Constrained.Univ.html#fstFn"><span class="hs-identifier hs-var">fstFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *).
(HasSpec fn a, HasSpec fn (SimpleRep a), HasSimpleRep a,
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a)) =&gt;
Spec fn a -&gt; Spec fn (SimpleRep a)
</span><a href="Constrained.Base.html#toSimpleRepSpec"><span class="hs-identifier hs-var">toSimpleRepSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189153"><span class="hs-identifier hs-var">kvSpec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189154"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span class="annot"><span class="annottext">MapFn fn '[a] b
</span><a href="Constrained.Univ.html#Rng"><span class="hs-identifier hs-var">Rng</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>      </span><span class="hs-comment">-- No TypeAbstractions in ghc-8.10</span><span>
</span><span id="line-193"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MapFn fn '[a] b
</span><a href="#local-6989586621679189166"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-194"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679189131"><span id="local-6989586621679189132"><span class="annot"><span class="annottext">MapFn fn '[Map k v] [v]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Constrained.Univ.html#MapFn"><span class="hs-identifier hs-type">MapFn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189132"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189131"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679189131"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Constrained.Spec.Maps.html#MapSpec"><span class="hs-identifier hs-type">MapSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Set k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679189130"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189130"><span class="hs-identifier hs-var">mustList</span></a></span></span><span> </span><span id="local-6989586621679189129"><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189129"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621679189128"><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189128"><span class="hs-identifier hs-var">kvSpec</span></a></span></span><span> </span><span id="local-6989586621679189127"><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189127"><span class="hs-identifier hs-var">foldSpec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TypeSpec fn a
</span><a href="#local-6989586621679189165"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-196"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Evidence (Prerequisites fn (Map k v))
</span><a href="Constrained.Core.html#Evidence"><span class="hs-identifier hs-var">Evidence</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
Evidence (Prerequisites fn a)
</span><a href="Constrained.Base.html#prerequisites"><span class="hs-identifier hs-var">prerequisites</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189132"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679189131"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-197"></span><span>              </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
HasSpec fn a =&gt;
TypeSpec fn a -&gt; Spec fn a
</span><a href="Constrained.Base.html#typeSpec"><span class="hs-identifier hs-var">typeSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a.
[a] -&gt; Spec fn Int -&gt; Spec fn a -&gt; FoldSpec fn a -&gt; ListSpec fn a
</span><a href="Constrained.Base.html#ListSpec"><span class="hs-identifier hs-var">ListSpec</span></a></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679189130"><span class="hs-identifier hs-var">mustList</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn Int
</span><a href="#local-6989586621679189129"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
(HasSpec fn a, HasSpec fn b) =&gt;
fn '[a] b -&gt; Spec fn a -&gt; Spec fn b
</span><a href="Constrained.Base.html#mapSpec"><span class="hs-identifier hs-var">mapSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) a b.
Member (PairFn fn) fn =&gt;
fn '[Prod a b] b
</span><a href="Constrained.Univ.html#sndFn"><span class="hs-identifier hs-var">sndFn</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679190073"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a (fn :: [*] -&gt; * -&gt; *).
(HasSpec fn a, HasSpec fn (SimpleRep a), HasSimpleRep a,
 TypeSpec fn a ~ TypeSpec fn (SimpleRep a)) =&gt;
Spec fn a -&gt; Spec fn (SimpleRep a)
</span><a href="Constrained.Base.html#toSimpleRepSpec"><span class="hs-identifier hs-var">toSimpleRepSpec</span></a></span><span> </span><span class="annot"><span class="annottext">Spec fn (k, v)
</span><a href="#local-6989586621679189128"><span class="hs-identifier hs-var">kvSpec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FoldSpec fn v
</span><a href="#local-6989586621679189127"><span class="hs-identifier hs-var">foldSpec</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- Syntax</span><span>
</span><span id="line-201"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span id="local-6989586621679190021"><span id="local-6989586621679190022"><span id="local-6989586621679190023"><span class="annot"><a href="Constrained.Spec.Maps.html#dom_"><span class="hs-identifier hs-type">dom_</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190023"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190022"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190021"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190023"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190022"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190022"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><a href="Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190023"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190022"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190021"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><a href="Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190023"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190022"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-207"></span><span id="dom_"><span class="annot"><span class="annottext">dom_ :: forall (fn :: [*] -&gt; * -&gt; *) k v.
(HasSpec fn (Map k v), HasSpec fn k, Ord k) =&gt;
Term fn (Map k v) -&gt; Term fn (Set k)
</span><a href="Constrained.Spec.Maps.html#dom_"><span class="hs-identifier hs-var hs-var">dom_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
(Member (MapFn fn) fn, Ord k) =&gt;
fn '[Map k v] (Set k)
</span><a href="Constrained.Univ.html#domFn"><span class="hs-identifier hs-var">domFn</span></a></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span id="local-6989586621679190015"><span id="local-6989586621679190016"><span id="local-6989586621679190017"><span class="annot"><a href="Constrained.Spec.Maps.html#rng_"><span class="hs-identifier hs-type">rng_</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190017"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190016"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Constrained.Base.html#HasSpec"><span class="hs-identifier hs-type">HasSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190017"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190015"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190016"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-211"></span><span>  </span><span class="annot"><a href="Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190017"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190016"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190015"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-212"></span><span>  </span><span class="annot"><a href="Constrained.Base.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190017"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679190015"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-213"></span><span id="rng_"><span class="annot"><span class="annottext">rng_ :: forall (fn :: [*] -&gt; * -&gt; *) k v.
(HasSpec fn k, HasSpec fn v, Ord k) =&gt;
Term fn (Map k v) -&gt; Term fn [v]
</span><a href="Constrained.Spec.Maps.html#rng_"><span class="hs-identifier hs-var hs-var">rng_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) b (as :: [*]).
(HasSpec fn b, Typeable as, TypeList as, All (HasSpec fn) as) =&gt;
fn as b -&gt; FunTy (MapList (Term fn) as) (Term fn b)
</span><a href="Constrained.Base.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">forall (fn :: [*] -&gt; * -&gt; *) k v.
Member (MapFn fn) fn =&gt;
fn '[Map k v] [v]
</span><a href="Constrained.Univ.html#rngFn"><span class="hs-identifier hs-var">rngFn</span></a></span><span>
</span><span id="line-214"></span></pre></body></html>